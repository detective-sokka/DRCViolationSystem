@startuml
' Interfaces
interface Observer {
    +update()
}

interface Subject {
    +subscribe(observer: Observer)
    +unsubscribe(observer: Observer)
    +notifyObservers()
}

' Core domain classes
class DBObject {
    -id: string    
    -observers: Set<Observer>   
    --
    +subscribe(observer: Observer)
    +unsubscribe(observer: Observer)
    +notifyObservers()
}

class DRCViolation {    
    -violationId: string
    --
    +update()
    +getInvolvedObjects(): List<DBObject>
}

class DRCViolationSystem {
    -objectViolations: Set<DBObject>
    -<u>instance : DRCViolationSystem</u>
    --
    +addViolation(violation: DRCViolation)
    +removeViolationsForObject(obj: DBObject)
    +updateViolation(obj: DBObject)
    +getInstance() : DRCViolationSystem    
}

DBObject ..|> Subject
DRCViolation ..|> Observer
DRCViolation "1..*" --o "1..2" DBObject : observes

' Composition and Singleton
DRCViolationSystem *-- DBObject
note right of DRCViolationSystem
  Singleton pattern:
  - getInstance() returns the only instance
  - instance is static (underlined)
end note
@enduml